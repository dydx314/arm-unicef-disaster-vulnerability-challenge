import os
import argparse
import pandas as pd

from utils import plot_ground_truth

IMAGE_DIR = "../../Downloads/Images"

def main():
    parser = argparse.ArgumentParser(description='plots img with ground truth bbox')
    parser.add_argument('image_id')           # positional argument
    parser.add_argument('--save_path', action='store')

    args = parser.parse_args()
    image_id = args.image_id
    save_path = args.save_path

    img_path = f"{IMAGE_DIR}/{image_id}.tif"
    train_df = pd.read_csv("data/train.csv")
    tdf = train_df[train_df.image_id == image_id]
    plot_ground_truth(img_path, tdf["bbox"].values, tdf["category_id"].values, show_plot=True, save_path=save_path)


if __name__ == "__main__":
    main()
