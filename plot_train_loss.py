import pandas as pd
import matplotlib.pyplot as plt

# File path to your data.json file
file_path = './detectron2/final_version/metrics.json'

# Read the JSON file line by line into a list of dictionaries
data = []
with open(file_path, 'r') as f:
    for line in f:
        data.append(eval(line.strip()))

# Create a DataFrame from the list of dictionaries
df = pd.DataFrame(data)

# Plot iteration vs. total_loss
plt.figure(figsize=(10, 6))
plt.plot(df['iteration'], df['total_loss'], marker='o', linestyle='-')
plt.xlabel('Iteration')
plt.ylabel('Total Loss')
plt.title('Total Loss vs. Iteration for Masked R-CNN')
plt.grid(True)
plt.show()
