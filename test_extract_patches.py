import cv2
bounding_boxes = [[562.1127319335938, 
817.7771606445312, 613.132080078125, 865.5029296875], [306.15679931640625, 590.1676025390625, 374.8440246582031, 649.768798828125], 
[534.29736328125, 918.7561645507812, 584.3825073242188, 963.949951171875], [430.4930114746094, 727.7759399414062, 496.31463623046875, 
791.493408203125], [476.0444641113281, 771.8181762695312, 525.6919555664062, 821.786376953125], [344.95208740234375, 670.78125, 400.6014709472656, 
724.126708984375], [492.7790832519531, 872.9678955078125, 536.87255859375, 914.2924194335938], [244.41131591796875, 833.3358764648438, 
297.608642578125, 886.1729125976562], [326.45440673828125, 644.1832885742188, 380.73004150390625, 695.0050659179688], [392.03314208984375, 
693.7821655273438, 472.7679748535156, 767.5604248046875], [546.643798828125, 847.107421875, 578.3377075195312, 880.1146850585938], 
[391.5297546386719, 693.3512573242188, 496.6538391113281, 791.800048828125], [243.61683654785156, 806.5123901367188, 266.08935546875, 
823.5228881835938], [2.609372138977051, 17.48564910888672, 998.4893798828125, 997.9398193359375], [325.4235534667969, 643.7144775390625, 
400.6632080078125, 724.9794311523438]]
def extract_patches(image_path, bounding_boxes):
    # Load the image
    image = cv2.imread(image_path)

    # List to hold patches
    patches = []

    # Extract patches based on bounding boxes
    for (x, y, xe, ye) in bounding_boxes:
        patch = image[int(y):int(ye), int(x):int(xe)]
        patches.append(patch)

    return patches

img_id = "id_av0kj02v1wvd"

patches = extract_patches(f"../../Downloads/Images/{img_id}.tif", bounding_boxes)
for i, patch in enumerate(patches):
    # Save the patch
    cv2.imwrite(f'test/patch_{i}.jpg', patch)

